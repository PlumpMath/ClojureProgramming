<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>1&nbsp;Functional Programming</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Clojure Programming Memo</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Functional Programming</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Functional Programming</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="#%28part._.What_.Does_.Functional_.Programming_.Mean_%29" class="tocviewlink" data-pltdoc="x">What Does Functional Programming Mean?</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="#%28part._.On_the_.Importance_of_.Values%29" class="tocviewlink" data-pltdoc="x">On the Importance of Values</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="#%28part._.First-.Class_and_.Higher-.Order_.Functions%29" class="tocviewlink" data-pltdoc="x">First-<wbr></wbr>Class and Higher-<wbr></wbr>Order Functions</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="#%28part._.Applying_.Ourselves_.Partially%29" class="tocviewlink" data-pltdoc="x">Applying Ourselves Partially</a></td></tr><tr><td align="right">1.5&nbsp;</td><td><a href="#%28part._.Composition_of_.Function_ality_%29" class="tocviewlink" data-pltdoc="x">Composition of Function(ality)</a></td></tr><tr><td align="right">1.6&nbsp;</td><td><a href="#%28part._.Pure_.Functions%29" class="tocviewlink" data-pltdoc="x">Pure Functions</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.What_.Does_.Functional_.Programming_.Mean_%29" class="tocsubseclink" data-pltdoc="x">What Does Functional Programming Mean?</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.On_the_.Importance_of_.Values%29" class="tocsubseclink" data-pltdoc="x">On the Importance of Values</a></td></tr><tr><td><span class="tocsublinknumber">1.2.1<tt>&nbsp;</tt></span><a href="#%28part._.About_.Values%29" class="tocsubseclink" data-pltdoc="x">About Values</a></td></tr><tr><td><span class="tocsublinknumber">1.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Comparing_.Values_to_.Mutable_.Objects%29" class="tocsubseclink" data-pltdoc="x">Comparing Values to Mutable Objects</a></td></tr><tr><td><span class="tocsublinknumber">1.2.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Implementation_of_a_mutable_integer_in_.Java%29" class="tocsubseclink" data-pltdoc="x">Implementation of a mutable integer in Java</a></td></tr><tr><td><span class="tocsublinknumber">1.2.2.2<tt>&nbsp;</tt></span><a href="#%28part._.Ruby__.Clojure____%29" class="tocsubseclink" data-pltdoc="x">Ruby&#50752; Clojure&#51032; &#48708;&#44368;</a></td></tr><tr><td><span class="tocsublinknumber">1.2.3<tt>&nbsp;</tt></span><a href="#%28part._.A_.Critical_.Choice%29" class="tocsubseclink" data-pltdoc="x">A Critical Choice</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.First-.Class_and_.Higher-.Order_.Functions%29" class="tocsubseclink" data-pltdoc="x">First-<wbr></wbr>Class and Higher-<wbr></wbr>Order Functions</a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._.Applying_.Ourselves_.Partially%29" class="tocsubseclink" data-pltdoc="x">Applying Ourselves Partially</a></td></tr><tr><td><span class="tocsublinknumber">1.5<tt>&nbsp;</tt></span><a href="#%28part._.Composition_of_.Function_ality_%29" class="tocsubseclink" data-pltdoc="x">Composition of Function(ality)</a></td></tr><tr><td><span class="tocsublinknumber">1.5.1<tt>&nbsp;</tt></span><a href="#%28part._comp_function%29" class="tocsubseclink" data-pltdoc="x">comp function</a></td></tr><tr><td><span class="tocsublinknumber">1.5.2<tt>&nbsp;</tt></span><a href="#%28part._camel-_keyword_example%29" class="tocsubseclink" data-pltdoc="x">camel-<wbr></wbr>&gt;keyword example</a></td></tr><tr><td><span class="tocsublinknumber">1.5.3<tt>&nbsp;</tt></span><a href="#%28part._.Writing_.Higher-.Order_.Functions%29" class="tocsubseclink" data-pltdoc="x">Writing Higher-<wbr></wbr>Order Functions</a></td></tr><tr><td><span class="tocsublinknumber">1.5.4<tt>&nbsp;</tt></span><a href="#%28part._.Building_a_.Primitive_.Logging_.System_with_.Composable_.Higher-.Order_.Functions%29" class="tocsubseclink" data-pltdoc="x">Building a Primitive Logging System with Composable Higher-<wbr></wbr>Order Functions</a></td></tr><tr><td><span class="tocsublinknumber">1.5.4.1<tt>&nbsp;</tt></span><a href="#%28part._stdout____%29" class="tocsubseclink" data-pltdoc="x">stdout&#50640; &#47196;&#44613;</a></td></tr><tr><td><span class="tocsublinknumber">1.5.4.2<tt>&nbsp;</tt></span><a href="#%28part.___________%29" class="tocsubseclink" data-pltdoc="x">&#47700;&#47784;&#47532; &#48260;&#54140;&#50640; &#47196;&#44613;</a></td></tr><tr><td><span class="tocsublinknumber">1.5.4.3<tt>&nbsp;</tt></span><a href="#%28part._______%29" class="tocsubseclink" data-pltdoc="x">&#54028;&#51068;&#50640; &#47196;&#44613;</a></td></tr><tr><td><span class="tocsublinknumber">1.5.4.4<tt>&nbsp;</tt></span><a href="#%28part._multi___%29" class="tocsubseclink" data-pltdoc="x">multi &#47196;&#44613;</a></td></tr><tr><td><span class="tocsublinknumber">1.5.4.5<tt>&nbsp;</tt></span><a href="#%28part._timestamped-logger%29" class="tocsubseclink" data-pltdoc="x">timestamped-<wbr></wbr>logger</a></td></tr><tr><td><span class="tocsublinknumber">1.6<tt>&nbsp;</tt></span><a href="#%28part._.Pure_.Functions%29" class="tocsubseclink" data-pltdoc="x">Pure Functions</a></td></tr><tr><td><span class="tocsublinknumber">1.6.1<tt>&nbsp;</tt></span><a href="#%28part._.Why_.Are_.Pure_.Functions_.Interesting_%29" class="tocsubseclink" data-pltdoc="x">Why Are Pure Functions Interesting?</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6.2</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Clojure Programming Memo&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Clojure Programming Memo&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>1<tt>&nbsp;</tt><a name="(part._functional-programming)"></a>Functional Programming</h3><p><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><noscript></noscript></p><p>&#54632;&#49688;&#54805; &#54532;&#47196;&#44536;&#47000;&#48141;&#51060; &#47924;&#50631;&#51064;&#44032;&#50640; &#45824;&#54620; &#51221;&#51032;&#45716; &#45796;&#50577;&#54616;&#45796;. &#54616;&#51648;&#47564;, &#53364;&#47196;&#51200;&#44032; &#54632;&#49688;&#54805; &#54532;&#47196;&#44536;&#47000;&#48141;
&#50616;&#50612;&#46972;&#45716; &#51216;&#44284; &#53364;&#47196;&#51200;&#51032; &#51109;&#51216;&#51060;&#46972; &#54624; &#49688; &#51080;&#45716; &#50668;&#47084; &#53945;&#49457;&#46308;&#51060; &#54632;&#49688;&#54805; &#54532;&#47196;&#44536;&#47000;&#48141;&#51032; &#49549;&#49457;&#50640;&#49436;
&#44592;&#51064;&#54616;&#44256; &#51080;&#45796;&#44256; &#51452;&#51109;&#54616;&#45716; &#45936;&#50640;&#45716; &#50612;&#47140;&#50880;&#51060; &#50630;&#45796;.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#52280;&#44256;: <a href="http://philoskim.github.io/doc/why-clojure.html#%28part._.Common_.Lisp___________%29">&#54632;&#49688;&#54805; &#54532;&#47196;&#44536;&#47000;&#48141;&#51060;&#46976; &#47924;&#50631;&#51064;&#44032;</a></p></blockquote></blockquote></blockquote><p>Haskell &#44057;&#51008; &#54632;&#49688;&#54805; &#50616;&#50612;&#45716;, &#54617;&#47928;&#51201; &#44288;&#51216;&#50640;&#49436; &#52636;&#48156;&#54620; &#50616;&#50612;&#50668;&#49436; &#45908; &#50628;&#48128;&#54620; &#47579;&#51008; &#51080;&#51648;&#47564;,
&#54532;&#47196;&#44536;&#47000;&#47672;&#51032; &#44288;&#51216;&#50640;&#49436; &#48380; &#46412; &#49892;&#50857;&#49457;&#51008; &#53364;&#47196;&#51200;&#50640; &#48708;&#54644; &#54788;&#51200;&#55176; &#46504;&#50612;&#51652;&#45796;. &#53364;&#47196;&#51200;&#51032; &#52285;&#49884;&#51088;&#51064; Rich
Hickey &#51088;&#49888;&#51060; &#49688;&#49901;&#45380;&#44036; &#45824;&#44508;&#47784; &#54532;&#47196;&#51229;&#53944;&#50640;&#49436; &#54876;&#46041;&#54644; &#50728; &#49892;&#51204; &#54532;&#47196;&#44536;&#47000;&#47672;&#50688;&#45796;&#45716; &#51216;&#50640;&#49436;,
&#53364;&#47196;&#51200;&#45716; &#49548;&#44508;&#47784;&#51032; &#54532;&#47196;&#51229;&#53944;&#47484; &#49688;&#54665;&#54616;&#45716; &#45824;&#54617; &#50672;&#44396;&#49892;&#51032; &#49345;&#54889;&#44284;&#45716; &#45796;&#47480; &#49345;&#54889;&#51012; &#50948;&#54644; &#49444;&#44228;&#46108;
&#50616;&#50612;&#51060;&#45796;.</p><h4>1.1<tt>&nbsp;</tt><a name="(part._.What_.Does_.Functional_.Programming_.Mean_)"></a>What Does Functional Programming Mean?</h4><ul><li><p>&#54632;&#49688;&#47484; &#44050;(value)&#51004;&#47196; &#45796;&#47340;&#45796;. &#50696;: &#44256;&#52264; &#54632;&#49688;</p></li><li><p>immutble &#51088;&#47308; &#44396;&#51312;&#47484; &#49324;&#50857;&#54620;&#45796;.</p></li><li><p>&#45936;&#51060;&#53552;&#47484; &#47749;&#47161;&#51201;&#51064;(imperative) &#48169;&#49885;&#51060; &#50500;&#45772; &#49440;&#50616;&#51201;&#51064;(declarative) &#48169;&#49885;&#51004;&#47196; &#52376;&#47532;&#54620;&#45796;.
<pre class="codeblock">// imperative style in Java
int sum=0;
for (int i=0; i&lt;100; i++)
  sum += i;</pre></p><p><pre class="codeblock">;; declarative style in Clojure
(reduce + (range 100))</pre></p></li><li><p>&#48373;&#51105;&#54620; &#47928;&#51228;&#47484; &#45800;&#49692;&#54620; &#47928;&#51228;&#51032; &#44208;&#54633;&#51012; &#53685;&#54644; &#54644;&#44208;&#54620;&#45796;. &#51060;&#46412; &#54632;&#49688;&#51032; &#54633;&#49457;(composition)&#51012;
&#51060;&#50857;&#54624; &#49688; &#51080;&#45716;&#45936;, Clojure 1.7.0&#50640; &#49352;&#47196; &#46020;&#51077;&#46108; trnsducer&#44032; &#51060;&#47088; &#48169;&#49885;&#51032; &#52376;&#47532;&#47484; &#45908;
&#49688;&#50900;&#54616;&#44172; &#54644; &#51456;&#45796;.</p></li></ul><h4>1.2<tt>&nbsp;</tt><a name="(part._.On_the_.Importance_of_.Values)"></a>On the Importance of Values</h4><p><pre class="descblock">values == immutable objects
state  == mutable objects</pre></p><p>immutable objects&#51012; &#46020;&#51077;&#54632;&#51004;&#47196;&#50024; &#50619;&#50612;&#51648;&#45716; &#51060;&#51216;&#46308;:</p><ul><li><p>&#54532;&#47196;&#44536;&#47016; &#51060;&#54644;&#44032; &#49772;&#50892;&#51652;&#45796;.</p></li><li><p>&#46041;&#49884;&#49457;(Concurrency) &#52376;&#47532;&#44032; &#50857;&#51060;&#54644;&#51652;&#45796;.</p></li></ul><h5>1.2.1<tt>&nbsp;</tt><a name="(part._.About_.Values)"></a>About Values</h5><p>&#45796;&#51020;&#51032; &#53364;&#47196;&#51200;&#51032; &#44050;(value)&#46308;&#51008;, Java&#50640;&#49436;&#46020; &#51060;&#48120; immutable&#51060;&#45796;.</p><p><pre class="descblock">true false 5 14.2 \T "hello" nil</pre></p><p>&#44050;&#51012; &#44592;&#51456;&#51004;&#47196; &#54620; &#46321;&#44032;(equality) &#48708;&#44368;&#45716;, &#50616;&#51228; &#50612;&#46356;&#49436;&#45208; &#46041;&#51068;&#54620; &#44208;&#44284;&#51032; &#48152;&#54872;&#51012; &#48372;&#51109;&#54620;&#45796;.</p><p><pre class="codeblock">(= 5 5)

(= 5 (+ 2 3))

(= "boot" (str "bo" "ot"))

(= nil nil)

(let [a 5]
  (do-something-with-a-number a)
  (= a 5))</pre></p><h5>1.2.2<tt>&nbsp;</tt><a name="(part._.Comparing_.Values_to_.Mutable_.Objects)"></a>Comparing Values to Mutable Objects</h5><p>&#50896;&#47000;&#51032; java.lang.Integer&#45716; immutable&#47196; &#44396;&#54788;&#46104;&#50612; &#51080;&#45716;&#45936;, &#45796;&#51020;&#51008; &#51060;&#44163;&#51012; mutable&#47196; &#44396;&#54788;&#54620;
&#50696;&#51228;&#51060;&#45796;.</p><h5>1.2.2.1<tt>&nbsp;</tt><a name="(part._.Implementation_of_a_mutable_integer_in_.Java)"></a>Implementation of a mutable integer in Java</h5><p><pre class="codeblock">public class StatefulInteger extends Number {
  private int state;

  public StatefulInteger (int initialState) {
    this.state = initialState;
  }

  public void setInt (int newState) {
    this.state = newState;
  }

  int intValue () {
    return state;
  }

  public int hashCode () {
    return state;
  }

  public boolean equals (Object obj) {
    return obj instanceof StatefulInteger &amp;&amp;
           state == ((StatefulInteger)obj).state;
  }

  // remaining xxxValue() methods from java.lang.Number...
}</pre></p><p><pre class="codeblock">(def five (StatefulInteger. 5))
;= #'user/five

(def six (StatefulInteger. 6))
;= #'user/six

(.intValue five)
;= 5

(= five six)
;= false

(.setInt five 6)   ; [1]
;= nil

(= five six)       ; [2]
;= true</pre></p><p>[1]&#50640;&#49436; five&#51032; &#49345;&#53468;&#47484; 6&#51004;&#47196; &#48148;&#44988; &#44208;&#44284;, [2]&#51032; &#44208;&#44284;&#44050;&#51060; &#50696;&#49345;&#44284; &#45796;&#47476;&#44172; &#45208;&#50772;&#45796;.</p><p><pre class="codeblock">(defn print-number
  [n]
  (println (.intValue n))
  (.setInt n 42))           ; [1]
;= #'user/print-number

(print-number six)
; 6
;= nil

(= five six)
;= false

(= six (StatefulInteger. 42))   ; [2]
;= true</pre></p><p>&#47700;&#49548;&#46300; print-number&#50640;&#49436; &#51064;&#51088;&#47196; &#48155;&#51008; n&#51032; &#49345;&#53468;&#47484; [1]&#50640;&#49436; &#48320;&#44221;&#54644;&#49436;, [2]&#51032; &#44208;&#44284;&#44032; &#50696;&#49345;&#44284;
&#45796;&#47476;&#44172; &#45208;&#50772;&#45796;.</p><h5>1.2.2.2<tt>&nbsp;</tt><a name="(part._.Ruby__.Clojure____)"></a>Ruby&#50752; Clojure&#51032; &#48708;&#44368;</h5><p>&#47336;&#48708;&#50640;&#49436;&#45716; &#54644;&#49772;&#51032; &#53412;&#44032; mutable&#51060;&#45796;.</p><p><pre class="codeblock">&gt;&gt; h = {[1, 2] =&gt; 3}
=&gt; {[1, 2]=&gt;3}

&gt;&gt; h[[1,2]]
=&gt; 3

&gt;&gt; h.keys[0] &lt;&lt; 3
=&gt; [1, 2, 3]

&gt;&gt; h[[1,2]]
=&gt; nil</pre></p><p>&#48152;&#47732;&#50640;, &#53364;&#47196;&#51200;&#50640;&#49436;&#45716; immutable&#51060;&#45796;.</p><p><pre class="codeblock">(def h {[1 2] 3})
;= #'user/h

(h [1 2])
;= 3

(conj (first (keys h)) 3)
;= [1 2 3]

(h [1 2])
;= 3

h
;= {[1 2] 3}</pre></p><h5>1.2.3<tt>&nbsp;</tt><a name="(part._.A_.Critical_.Choice)"></a>A Critical Choice</h5><p>&#44208;&#47200;&#51201;&#51004;&#47196; &#47568;&#54616;&#51088;&#47732;, mutable objects&#51032; &#51060;&#50857;&#51008; &#47566;&#51008; &#47928;&#51228;&#46308;&#51012; &#52488;&#47000;&#54616;&#44172; &#46108;&#45796;&#45716; &#44163;&#51060;&#45796;. &#51060;&#47088;
&#47928;&#51228;&#46308;&#51012; &#54644;&#44208;&#54616;&#44592; &#50948;&#54644; &#50728;&#44054; &#48373;&#51105;&#54620; &#44592;&#44368;&#44284; &#48169;&#48277;&#46308;(&#50696;&#47484; &#46308;&#47732;, Observer&#45208; Reactor &#44057;&#51008; &#46356;&#51088;&#51064;
&#54056;&#53556;&#51060;&#45208;, deep-copying &#48169;&#49885; &#46321;&#46321;)&#51012; &#46041;&#50896;&#54616;&#44172; &#46104;&#51648;&#47564;, &#54532;&#47196;&#44536;&#47016;&#47564; &#48373;&#51105;&#54644;&#51656; &#49104; &#44540;&#48376;&#51201;&#51064;
&#54644;&#44208;&#52293;&#51008; &#46104;&#51648; &#47803;&#54620;&#45796;. &#46384;&#46972;&#49436; &#44036;&#45800;&#54616;&#44172; immutable object&#47484; &#49324;&#50857;&#54616;&#46972;&#45716; &#44163;&#51060;&#45796;.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>&#52280;&#44256;: <a href="https://en.wikipedia.org/wiki/Gordian_Knot">&#50508;&#47113;&#49328;&#45908; &#45824;&#50773;&#51032; &#44256;&#47476;&#46356;&#50864;&#49828;&#51032; &#47588;&#46317;</a></p></blockquote></blockquote></blockquote><h4>1.3<tt>&nbsp;</tt><a name="(part._.First-.Class_and_.Higher-.Order_.Functions)"></a>First-Class and Higher-Order Functions</h4><p>&#54632;&#49688;&#54805; &#54532;&#47196;&#44536;&#47000;&#48141;&#51060; &#47924;&#50631;&#51064;&#44032;&#50640; &#45824;&#54644;&#49436;&#45716; &#51060;&#44204;&#51060; &#51080;&#51648;&#47564;, &#54632;&#49688;&#44032; value&#47196; &#52712;&#44553;&#46104;&#50612;, &#54632;&#49688;
&#44061;&#52404;&#47484; &#54632;&#49688;&#51032; &#51064;&#51088;&#47196; &#45336;&#44600; &#49688; &#51080;&#44256;, &#54632;&#49688;&#51032; &#47532;&#53556;&#44050;&#51004;&#47196; &#54632;&#49688; &#44061;&#52404;&#47484; &#48152;&#54872;&#54624; &#49688; &#51080;&#45796;&#45716; &#51216;&#50640;&#45716;
&#47784;&#46160;&#44032; &#46041;&#51032;&#54620;&#45796;. &#48708;&#47197; immutable &#51088;&#47308; &#44396;&#51312;&#47484; &#51228;&#44277;&#54616;&#51648; &#50506;&#45716; &#54632;&#49688;&#54805; &#50616;&#50612;&#46972; &#54644;&#46020;, &#54632;&#49688;&#47484;
value&#47196; &#52712;&#44553;&#54616;&#47732; &#50619;&#44172; &#46104;&#45716; &#51079;&#51216;&#46308;&#51060; &#51201;&#51648; &#50506;&#45796;. &#51593;, &#55016;&#50476; &#51201;&#51008; &#53076;&#46300;&#47196; &#55016;&#50476; &#47566;&#51008; &#51068;&#51012; &#49688;&#54665;&#54624;
&#49688; &#51080;&#44172; &#54616;&#45716; &#45800;&#49692;&#54868;&#47484; &#51228;&#44277;&#54620;&#45796;.</p><p><a name="(idx._(gentag._0))"></a><span class="stt">&lt;map function&gt;</span></p><p><pre class="descblock">(map f coll+)

(map f [a b c])         == [(f a) (f b) (f c)]
(map f [a b c] [x y z]) == [(f a x) (f b y) (f c z)]</pre></p><p><pre class="codeblock">(map clojure.string/lower-case ["Java" "Imperative" "Weeping"
                                "Clojure" "Learning" "Peace"])
;= ("java" "imperative" "weeping" "clojure" "learning" "peace")

(map * [1 2 3 4] [5 6 7 8])
;= (5 12 21 32)</pre></p><p><a name="(idx._(gentag._1))"></a><span class="stt">&lt;reduce function&gt;</span></p><p><pre class="descblock">(reduce f init? coll)</pre></p><p><pre class="codeblock">(reduce max [0 -3 10 48])
;= 10

(reduce + 50 [1 2 3 4])
;= 60

(reduce
  (fn [acc v]
    (assoc acc v (* v v)))
  {}
  [1 2 3 4])
;= {4 16, 3 9, 2 4, 1 1}

(reduce
  #(assoc % %2 (* %2 %2))
  {}
  [1 2 3 4])
;= {4 16, 3 9, 2 4, 1 1}</pre></p><p><a name="(idx._(gentag._2))"></a><span class="stt">&lt;Java &#53076;&#46300;&#50752; &#48708;&#44368;&#54624; &#46412; Clojure &#53076;&#46300;&#51032; &#51060;&#51216;&gt;</span></p><p><pre class="codeblock">public static int maxOf (int[] numbers) {
  int max = Integer.MIN_VALUE;
  for (int i : numbers) {
    max = Math.max(i, max);
  }
  return max;
}

(reduce max [0 -3 10 48])</pre></p><p>&#53364;&#47196;&#51200;&#51032; &#44221;&#50864; 'max &#54632;&#49688;'&#50752; 'collection&#51012; iteration&#54616;&#45716; &#53076;&#46300;'&#44032; &#48516;&#47532;&#46104;&#50632;&#45796;. &#44536;&#47000;&#49436;
'collection&#51012; iteration&#54616;&#45716; &#53076;&#46300;'&#47484; &#47588; &#48264; &#51089;&#49457;&#54624; &#54596;&#50836;&#44032; &#50630;&#45796;.</p><p><pre class="codeblock">public static void toLowerCase (List&lt;String&gt; strings) {
  for (ListIterator&lt;String&gt; iter = strings.listIterator(); iter.hasNext(); ) {
        iter.set(iter.next().toLowerCase());
  }
}

(map clojure.string/lower-case ["Java" "Imperative" "Weeping"
                                "Clojure" "Learning" "Peace"])</pre></p><p>'lower-case &#54632;&#49688;'&#50752; 'collection&#51012; iteration&#54616;&#45716; &#53076;&#46300;'&#44032; &#48516;&#47532;&#46104;&#50632;&#45796;. &#44536;&#47000;&#49436;
'collection&#51012; iteration&#54616;&#45716; &#53076;&#46300;'&#47484; &#47588; &#48264; &#51089;&#49457;&#54624; &#54596;&#50836;&#44032; &#50630;&#45796;.</p><h4>1.4<tt>&nbsp;</tt><a name="(part._.Applying_.Ourselves_.Partially)"></a>Applying Ourselves Partially</h4><p><a name="(idx._(gentag._3))"></a><span class="stt">&lt;apply function&gt;</span></p><p><pre class="descblock">(apply f arg* coll)</pre></p><p><pre class="codeblock">(apply hash-map [:a 5 :b 6])
;= {:a 5, :b 6}

(hash-map :a 5 :b 6)
;= {:a 5, :b 6}</pre></p><p><pre class="codeblock">(def args [2 -2 10])
;= #'user/args

(apply * 0.5 3 args)
;= -60.0

(* 0.5 3 2 -2 10)
;= -60.0</pre></p><p><a name="(idx._(gentag._4))"></a><span class="stt">&lt;partial function&gt;</span></p><p><pre class="codeblock">(def only-strings (partial filter string?))
;= #'user/only-strings

(only-strings ["a" 5 "b" 6])
;= ("a" "b")

(filer string? ["a" 5 "b" 6])</pre></p><p><a name="(idx._(gentag._5))"></a><span class="stt">&lt;partials vs. function literals&gt;</span></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>partial \( \subset \) functional literal</p><p>&#45800;, functional literal&#51008; #(...) &#45236;&#50640; &#51064;&#51088;(%1, %2, ... %&amp;)&#47484; &#47749;&#49884;&#51201;&#51004;&#47196; &#51648;&#51221;&#54644;
&#51452;&#50612;&#50556; &#54620;&#45796;.</p></blockquote></blockquote></blockquote><p><pre class="codeblock">(#(map *) [1 2 3] [4 5 6] [7 8 9])
;= #&lt;ArityException clojure.lang.ArityException:
;= Wrong number of args (3) passed to: user$eval812$fn&gt;

(#(map * % %2 %3) [1 2 3] [4 5 6] [7 8 9])
;= (28 80 162)

(#(map * % %2 %3) [1 2 3] [4 5 6])
;= #&lt;ArityException clojure.lang.ArityException:
;= Wrong number of args (2) passed to: user$eval843$fn&gt;

(#(apply map * %&amp;) [1 2 3] [4 5 6] [7 8 9])
;= (28 80 162)

(#(apply map * %&amp;) [1 2 3])
;= (1 2 3)


;; partial &#54632;&#49688;&#45716;, &#50668;&#48516;&#51004;&#47196; &#54596;&#50836;&#54620; &#45208;&#47672;&#51648; &#51064;&#51088;&#46308;&#51012; &#51648;&#51221;&#54644; &#51460; &#54596;&#50836;&#44032; &#50630;&#45796;.
((partial map *) [1 2 3] [4 5 6] [7 8 9])
;= (28 80 162)</pre></p><h4>1.5<tt>&nbsp;</tt><a name="(part._.Composition_of_.Function_ality_)"></a>Composition of Function(ality)</h4><h5>1.5.1<tt>&nbsp;</tt><a name="(part._comp_function)"></a>comp function</h5><p><a name="(idx._(gentag._6))"></a><span class="stt">&lt;comp&#47484; &#49324;&#50857; &#50504;&#54620; &#44221;&#50864;&gt;</span></p><p><pre class="codeblock">(defn negated-sum-str
  [&amp; numbers]
  (str (- (apply + numbers))))
;= #'user/negated-sum-str

(negated-sum-str 10 12 3.4)
;= "-25.4"</pre></p><p><a name="(idx._(gentag._7))"></a><span class="stt">&lt;comp&#47484; &#49324;&#50857;&#54620; &#44221;&#50864;&gt;</span></p><p><pre class="codeblock">(def negated-sum-str (comp str - +))
;= #'user/negated-sum-str

(negated-sum-str 10 12 3.4)
;= "-25.4"</pre></p><h5>1.5.2<tt>&nbsp;</tt><a name="(part._camel-_keyword_example)"></a>camel-&gt;keyword example</h5><p><a name="(idx._(gentag._8))"></a><span class="stt">&lt;comp&#47484; &#49324;&#50857;&#54620; &#44221;&#50864;&gt;</span></p><p><pre class="codeblock">(require '[clojure.string :as str])

(def camel-&gt;keyword (comp keyword
                          str/join
                          (partial interpose \-)
                          (partial map str/lower-case)
                          #(str/split % #"(?&lt;=[a-z])(?=[A-Z])")))

(camel-&gt;keyword "CamelCase")
;= :camel-case

(camel-&gt;keyword "lowerCamelCase")
;= :lower-camel-case</pre></p><p><a name="(idx._(gentag._9))"></a><span class="stt">&lt;threading macro -&gt;&gt;&#47484; &#49324;&#50857;&#54620; &#44221;&#50864;&gt;</span></p><p><pre class="codeblock">(defn camel-&gt;keyword
  [s]
  (-&gt;&gt; (str/split s #"(?&lt;=[a-z])(?=[A-Z])") ; =&gt; ["lower" "Camel" "Case"]
       (map str/lower-case)           ; =&gt; ("lower" "camel" "case")
       (interpose \-)                 ; =&gt; ("lower" \- "camel" \- "case")
       str/join                       ; =&gt; "lower-camel-case"
       keyword))                      ; =&gt; :lower-camel-case

(camel-&gt;keyword "lowerCamelCase")</pre></p><p>&#50612;&#45712; &#44163;&#51012; &#49324;&#50857;&#54616;&#46304; &#52712;&#54693;&#51032; &#47928;&#51228;&#51060;&#45796;.</p><h5>1.5.3<tt>&nbsp;</tt><a name="(part._.Writing_.Higher-.Order_.Functions)"></a>Writing Higher-Order Functions</h5><p>HOF(Higher-Order Functions)&#51060;&#46976;?</p><ul><li><p>&#54632;&#49688;&#51032; &#51064;&#51088;&#47196; &#54632;&#49688; &#44061;&#52404;&#47484; &#48155;&#45716;&#45796;.</p></li><li><p>&#54632;&#49688;&#51032; &#47532;&#53556;&#44050;&#51004;&#47196; &#54632;&#49688; &#44061;&#52404;&#47484; &#48152;&#54872;&#54620;&#45796;.</p></li></ul><p><pre class="codeblock">(defn adder
  [n]
  (fn [x] (+ n x)))

((adder 5) 18)
;= 23</pre></p><p><pre class="codeblock">(defn doubler
  [f]
  (fn [&amp; args]
      (* 2 (apply f args))))

(def double-+ (doubler +))
;= #'user/double-+

(double-+ 1 2 3)
;= 12</pre></p><h5>1.5.4<tt>&nbsp;</tt><a name="(part._.Building_a_.Primitive_.Logging_.System_with_.Composable_.Higher-.Order_.Functions)"></a>Building a Primitive Logging System with Composable Higher-Order Functions</h5><p><pre class="codeblock">(defn print-logger
  [writer]
  #(binding [*out* writer]
    (println %)))</pre></p><h5>1.5.4.1<tt>&nbsp;</tt><a name="(part._stdout____)"></a>stdout&#50640; &#47196;&#44613;</h5><p><pre class="codeblock">(def *out*-logger (print-logger *out*))</pre></p><p><pre class="shellblock">(*out*-logger "hello")
; -&gt;  (#(binding [*out* *out*]
;         (println %))
;      "hello")
; hello
;= nil</pre></p><h5>1.5.4.2<tt>&nbsp;</tt><a name="(part.___________)"></a>&#47700;&#47784;&#47532; &#48260;&#54140;&#50640; &#47196;&#44613;</h5><p><pre class="codeblock">(def writer (java.io.StringWriter.))

(def retained-logger (print-logger writer))</pre></p><p><pre class="shellblock">(retained-logger "hello")
; -&gt; (#(binding [*out* writer]
;        (println %))
;     "hello")
;= nil

(str writer)
;= "hello\n"</pre></p><h5>1.5.4.3<tt>&nbsp;</tt><a name="(part._______)"></a>&#54028;&#51068;&#50640; &#47196;&#44613;</h5><p><pre class="codeblock">(require 'clojure.java.io)

(defn file-logger
  [file]
  #(with-open [f (clojure.java.io/writer file :append true)]
     ((print-logger f) %)))

(def log-&gt;file (file-logger "messages.log"))</pre></p><p><pre class="shellblock">(log-&gt;file "hello")
; -&gt; (#(with-open [f (clojure.java.io/writer "messages.log"
;                                            :append true)]
;        ((print-logger f) %))
;     "hello")
; -&gt; (#(with-open [f (clojure.java.io/writer "messages.log"
;                                            :append true)]
;        (#(binding [*out* f]
;            (println %))
;         %))
;     "hello")
;= nil

% more messages.log
hello</pre></p><h5>1.5.4.4<tt>&nbsp;</tt><a name="(part._multi___)"></a>multi &#47196;&#44613;</h5><p><pre class="codeblock">(defn multi-logger
  [&amp; logger-fns]
  #(doseq [f logger-fns]
     (f %)))

(def log (multi-logger
           (print-logger *out*)
           (file-logger "messages.log")))</pre></p><p><pre class="shellblock">(log "hello again")
; -&gt; (#(doseq [f [(print-logger *out*)
;                 (file-logger "messages.log") ]]
;        (f %))
;     "hello again")
; hello again
;= nil

% more messages.log
hello
hello again</pre></p><h5>1.5.4.5<tt>&nbsp;</tt><a name="(part._timestamped-logger)"></a>timestamped-logger</h5><p><pre class="codeblock">(defn timestamped-logger
  [logger]
  #(logger (format "[%1$tY-%1$tm-%1$te %1$tH:%1$tM:%1$tS] %2$s"
                   (java.util.Date.) %) ))

(def log-timestamped (timestamped-logger
                       (multi-logger
                         (print-logger *out*)
                         (file-logger "messages.log"))))</pre></p><p><pre class="shellblock">(log-timestamped "goodbye, now")
; -&gt; #(logger (format "[%1$tY-%1$tm-%1$te %1$tH:%1$tM:%1$tS] %2$s"
;                     (java.util.Date.) "goodbye, now"))
; [2011-11-30 08:54:00] goodbye, now
;= nil

% more messages.log
hello
hello again
[2011-11-30 08:54:00] goodbye, now</pre></p><h4>1.6<tt>&nbsp;</tt><a name="(part._.Pure_.Functions)"></a>Pure Functions</h4><ul><li><p>&#49692;&#49688; &#54632;&#49688;&#45716; side effects(&#48512;&#49688; &#54952;&#44284;)&#44032; &#50630;&#45716; &#54632;&#49688;&#51060;&#45796;.</p></li><li><p>&#48512;&#49688; &#54952;&#44284;&#45716; &#50808;&#48512; &#54872;&#44221;&#44284;&#51032; &#49345;&#54840; &#51089;&#50857;&#51012; &#47568;&#54620;&#45796;. IO&#47484; &#52376;&#47532;&#54624; &#46412;&#45208;, &#44277;&#50976;&#46104;&#45716; mutable
object&#47484; &#48320;&#44221;&#54624; &#46412;&#50752; &#44057;&#51008;, &#50808;&#48512; &#54872;&#44221;&#50640; &#50689;&#54693;&#51012; &#51452;&#44144;&#45208; &#48155;&#45716; &#51089;&#50629;&#51060; &#44536; &#50696;&#46308;&#51060;&#45796;.</p></li><li><p>&#46384;&#46972;&#49436; &#49692;&#49688; &#54632;&#49688;&#45716; &#48512;&#49688; &#54952;&#44284;&#44032; &#50630;&#50612;&#49436;, &#51077;&#47141;&#44050;&#51060; &#46041;&#51068;&#54616;&#47732; &#48152;&#54872;&#44050;&#46020; &#54637;&#49345; &#46041;&#51068;&#54616;&#45796;.</p></li></ul><h5>1.6.1<tt>&nbsp;</tt><a name="(part._.Why_.Are_.Pure_.Functions_.Interesting_)"></a>Why Are Pure Functions Interesting?</h5><ul><li><p>&#49692;&#49688; &#54632;&#49688;&#45716; &#51060;&#54644;&#54616;&#44592; &#49789;&#45796;.</p></li><li><p>&#49692;&#49688; &#54632;&#49688;&#45716; &#53580;&#49828;&#53944;&#54616;&#44592; &#49789;&#45796;.</p></li><li><p>&#49692;&#49688; &#54632;&#49688;&#45716; &#44536; &#44208;&#44284;&#44050;&#51012; &#52880;&#49884;&#50640; &#51200;&#51109;&#54644; &#51116;&#49324;&#50857;&#54624; &#49688; &#51080;&#45796;.
<pre class="codeblock">(defn prime?
  [n]
  (cond
   (== 1 n) false
   (== 2 n) true
   (even? n) false
   :else (-&gt;&gt; (range 3 (inc (Math/sqrt n)) 2)
              (filter #(zero? (rem n %)))
              empty?)))

(time (prime? 1125899906842679))
; "Elapsed time: 2181.014 msecs"
;= true

(let [m-prime? (memoize prime?)]
  (time (m-prime? 1125899906842679))
  (time (m-prime? 1125899906842679)))
; "Elapsed time: 2085.029 msecs"
; "Elapsed time: 0.042 msecs"
;= true</pre></p></li><li><p>&#49692;&#49688; &#54632;&#49688;&#45716; &#48337;&#47148; &#52376;&#47532;&#50640; &#50857;&#51060;&#54616;&#45796;.</p></li></ul><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="index.html" title="backward to &quot;Clojure Programming Memo&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Clojure Programming Memo&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>